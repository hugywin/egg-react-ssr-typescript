{"version":3,"file":"static/js/Page.chunk.js","sources":["webpack:///./web/assets/common.scss?e615","/Users/zhushijie/Desktop/github/egg-react-ssr-typescript/web/decorator/MultipleRender.tsx","webpack:///./web/layout/index.module.scss?3b7a","/Users/zhushijie/Desktop/github/egg-react-ssr-typescript/web/layout/index.tsx","webpack:///./web/page/index/index.module.scss?f9dd","/Users/zhushijie/Desktop/github/egg-react-ssr-typescript/web/page/index/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1559821587251\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route, StaticRouter } from 'react-router-dom'\nimport { Context } from 'egg';\nimport { Layout } from '@/layout';\n\nexport function MultipleRender() {\n    return function (target) {\n\n        /**\n         * 客户端渲染方法\n         */\n        const clientRender = () => {\n            ReactDOM.hydrate(\n                <BrowserRouter>\n                    <Layout>\n                        <Switch>\n                            <Route path=\"/\" render={(props) => React.createElement(target, { ...props })} />\n                        </Switch>\n                    </Layout>\n                </BrowserRouter>,\n                document.getElementById('app') as HTMLElement\n            );\n\n            if (process.env.NODE_ENV === 'development' && module.hot) {\n                module.hot.accept()\n            }\n        }\n\n        /**\n         * 服务端渲染方法\n         * @param ctx \n         */\n        const serverRender = (ctx: Context) => {\n\n            return (\n                <StaticRouter location={ctx.req.url} context={ctx.serverData}>\n                    <Layout>\n                        <Switch>\n                            <Route path=\"/\" render={(_props) => React.createElement(target, { ...ctx.serverData })} />\n                        </Switch>\n                    </Layout>\n                </StaticRouter>\n            );\n        }\n\n        /** 赋值给当前渲染原型对象上 */\n        Reflect.set(target, '$serverRender', serverRender);\n        /** 从装饰器中启动客户端渲染 */\n        if (__isBrowser__) {\n            clientRender();\n        }\n\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"title_3D7bQ\",\"author\":\"author_24Zab\"};\n    if(module.hot) {\n      // 1559821586770\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport styles from './index.module.scss';\nimport '../assets/common.scss';\n\nexport class Layout extends React.PureComponent {\n\n    render(): JSX.Element {\n        return (\n            <div className=\"normal\">\n                <h1 className={styles.title}>\n                    <Link to='/'>Egg + React + SSR</Link>\n                    <div className={styles.author}>by ykfe</div>\n                </h1>\n                {this.props.children}\n            </div>\n        )\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"list_1DvMr\",\"toDetail\":\"toDetail_174Mj\"};\n    if(module.hot) {\n      // 1559821586626\n      var cssReload = require(\"!../../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import { MultipleRender } from '../../decorator/MultipleRender';\nimport { Link } from 'react-router-dom'\nimport React from 'react';\nimport styles from './index.module.scss';\n\n\ninterface IPageProps {\n    news: any[];\n}\n\n@MultipleRender()\nexport default class Page extends React.Component<IPageProps> {\n\n    constructor(props: IPageProps) {\n        super(props);\n    }\n\n    componentDidMount(): void {\n        console.log(123);\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"normal\">\n                <ul className={styles.list}>\n                    {\n                        this.props.news && this.props.news.map((item, index) => (\n                            <li key={`news${index}`}>\n                                <div>文章标题: {item.title}</div>\n                                <div className='toDetail'><Link to={`/news/${item.id}`}>点击查看详情</Link></div>\n                            </li>\n                        ))\n                    }\n                </ul>\n            </div>\n        );\n    }\n}\n\n\n\n\n\n\n\n"],"mappings":";;;;;;;;;AAAA;AACA,gCAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AAEA;AAEA;AACA;AAEA;;;AAGA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA,mBAEA;AACA;AAEA;;;;;;AAIA;AAEA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;;;;ACtDA;AACA;AACA,gCAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAZA;AACA;AADA;AAAA;;;;;;;;;;;ACLA;AACA;AACA,gCAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AAQA;;;;;AAEA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAHA;AAUA;;;;AAzBA;;;;;A","sourceRoot":""}
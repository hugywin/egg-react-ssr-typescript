{"version":3,"file":"static/js/Page.chunk.js","sources":["/Users/zhushijie/Desktop/github/egg-react-ssr-typescript/web/decorator/MultipleRender.tsx","webpack:///./web/page/index.module.scss?fbfc","/Users/zhushijie/Desktop/github/egg-react-ssr-typescript/web/page/index.tsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route, StaticRouter } from 'react-router-dom'\nimport { Context } from 'egg';\n\nexport function MultipleRender() {\n    return function (target) {\n\n        /**\n         * 客户端渲染方法\n         */\n        const clientRender = () => {\n            ReactDOM.hydrate(\n                <BrowserRouter>\n                    <Switch>\n                        <Route path=\"/\" render={(props) => React.createElement(target, { ...props })} />\n                    </Switch>\n                </BrowserRouter>,\n                document.getElementById('app') as HTMLElement\n            );\n\n            if (process.env.NODE_ENV === 'development' && module.hot) {\n                module.hot.accept()\n            }\n        }\n\n        /**\n         * 服务端渲染方法\n         * @param ctx \n         */\n        const serverRender = (ctx: Context) => {\n\n            return (\n                <StaticRouter location={ctx.req.url} context={ctx.serverData}>\n                    <Switch>\n                        <Route path=\"/\" render={(_props) => React.createElement(target, { ...ctx.serverData })} />\n                    </Switch>\n                </StaticRouter>\n            );\n        }\n\n        /** 赋值给当前渲染原型对象上 */\n        Reflect.set(target, '$serverRender', serverRender);\n        /** 从装饰器中启动客户端渲染 */\n        if (__isBrowser__) {\n            clientRender();\n        }\n\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"homepage\":\"homepage_1jyue\"};\n    if(module.hot) {\n      // 1559805068485\n      var cssReload = require(\"!../../node_modules/_css-hot-loader@1.4.4@css-hot-loader/hotModuleReplacement.js\")(module.id, {\"fileMap\":\"{fileName}\"});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);;\n    }\n  ","import React from 'react';\nimport { MultipleRender } from '../decorator/MultipleRender';\nimport style from './index.module.scss';\n\ninterface IAppProps {\n\n}\n\n@MultipleRender()\nexport default class App extends React.Component<IAppProps> {\n\n    constructor(props: IAppProps) {\n        super(props);\n    }\n\n    componentDidMount(): void {\n        console.log(123);\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className={style.homepage}>\n                <div>测试首页</div>\n            </div>\n        );\n    }\n}\n\n\n\n\n\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAGA;AACA;AAEA;;;AAGA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA,mBAEA;AACA;AAEA;;;;;;AAIA;AAEA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;;;;ACjDA;AACA;AACA,gCAKA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AAOA;;;;;AAEA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAIA;;;;AAhBA;;;;;A","sourceRoot":""}